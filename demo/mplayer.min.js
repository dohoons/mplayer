/**
 * MPlayer : HTML5 Media Player
 * @author dohoons(dohoons@gmail.com)
 * @version v0.1.1-alpha.0
 * @license MIT
 */
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(1);var s=n(2),c=n(4),f=r(c),p=n(5),d=r(p),h=n(11),y=r(h),v=function(e){function t(e,n){var r;i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),l=u({},s.DEFAULT_OPTIONS);return o.opt=u(l,n),o.el="string"==typeof e?document.querySelector(e):e,o.prevEl=o.el.cloneNode(!0),o.isVideo="VIDEO"===o.el.tagName,o.wrapper=o.isVideo?new d.default(o):new y.default(o),o.initFlag=!1,o.userEvents=[],o.init(),r=o,a(o,r)}return o(t,e),l(t,[{key:"init",value:function(e){var t=this;return this.destroy(),this.opt=u(this.opt,e),this.wrapper.loadInterface(function(e){t.wrapper.createInterface(e),t.wrapper.eventInit(),t.el.load()}),this.initFlag=!0,this}},{key:"destroy",value:function(){return this.initFlag&&(this.wrapper.removeInterface(),this.events.off(),this.initFlag=!1),this}},{key:"on",value:function(e,t){return this.userEvents.push({eventName:e,handler:t}),this}},{key:"off",value:function(e){var t=[];return this.userEvents.forEach(function(n){n.eventName!==e&&t.push(n)}),this.userEvents=t,this}}]),t}(f.default);e[s.PUBLIC_NAMESPACE]=v,t.default=v}).call(t,function(){return this}())},function(e,t){"use strict";"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}():!function(e){if("Element"in e){var t="classList",n="prototype",r=e.Element[n],i=Object,a=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},u=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new u("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new u("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},s=function(e){for(var t=a.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=s[n]=[],f=function(){return new s(this)};if(u[n]=Error[n],c.item=function(e){return this[e]||null},c.contains=function(e){return e+="",l(this,e)!==-1},c.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do e=t[n]+"",l(this,e)===-1&&(this.push(e),i=!0);while(++n<r);i&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,r=0,i=n.length,a=!1;do for(e=n[r]+"",t=l(this,e);t!==-1;)this.splice(t,1),a=!0,t=l(this,e);while(++r<i);a&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),r=n?t!==!0&&"remove":t!==!1&&"add";return r&&this[r](e),t===!0||t===!1?t:!n},c.toString=function(){return this.join(" ")},i.defineProperty){var p={get:f,enumerable:!0,configurable:!0};try{i.defineProperty(r,t,p)}catch(e){e.number===-2146823252&&(p.enumerable=!1,i.defineProperty(r,t,p))}}else i[n].__defineGetter__&&r.__defineGetter__(t,f)}}(self))},function(e,t,n){"use strict";var r=n(3),i={skin:"basic",flexible:!1,width:"",height:"",currentTime:0,autoplay:!1,loop:!1,muted:!1,volume:1,playbackRate:1,preload:"metadata",event:{}},a="MPlayer",o=navigator.userAgent,u=/iPad|iPhone|iPod/.test(o),l=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled,s=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],c=["click","contextmenu","abort","canplay","canplaythrough","durationchange","emptied","error","ended","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],f=(0,r.getCurrentScriptPath)();e.exports={DEFAULT_OPTIONS:i,PUBLIC_NAMESPACE:a,UA:o,IOS:u,SUPPORT_FS:l,FSCHANGE_EVENT_LIST:s,DEFAULT_EVENT_LIST:c,SCRIPT_PATH:f}},function(e,t){"use strict";e.exports.sec2str=function(e){var t=parseInt(e),n=Math.floor(t/86400),r=("0"+Math.floor(t/3600)%24).slice(-2),i=("0"+Math.floor(t/60)%60).slice(-2),a=("0"+t%60).slice(-2);return(n>0?n+"d ":"")+(r>0?r+":":"")+(i+":")+(t>60?a:a+"")},e.exports.getMatchAttr=function(e){for(var t=this.attributes,n=t.length;n--;)if(0===t[n].nodeName.indexOf(e))return{nodeName:t[n].nodeName,name:t[n].nodeName.split(e)[1],value:t[n].value};return null},e.exports.getCurrentScriptPath=function(){var e=void 0;if(document.currentScript)e=document.currentScript.src;else{var t=document.getElementsByTagName("script");e=t[t.length-1].src}return e.substring(0,e.lastIndexOf("/"))}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e)}return r(e,[{key:"play",value:function(){return this.el.play(),this}},{key:"pause",value:function(){return this.el.pause(),this}},{key:"stop",value:function(){return this.pause(),this.el.currentTime=0,this}},{key:"toggleMute",value:function(){return this.el.muted=!this.el.muted,this.ui.volume.position=this.el.muted?0:this.el.volume/1*100,this}},{key:"src",get:function(){return this.el.currentSrc},set:function(e){this.el.src=e}},{key:"currentTime",get:function(){return this.el.currentTime},set:function(e){this.el.currentTime=e}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},c=n(6),f=r(c),p=n(10),d=r(p),h=n(7),y=r(h),v=function(e){function t(e){var n;i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.player.events=new y.default(r.player),n=r,a(r,n)}return o(t,e),l(t,[{key:"createInterface",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createInterface",this).call(this,e);var n=this.player,r=n.el,i=n.opt,a=n.ui.container,o=a.querySelector(".poster"),l=r.getAttribute("poster"),c=a.querySelector(".progress"),f=a.querySelector(".volume"),p=new d.default({el:c}),h=new d.default({el:f});l&&""!==l?o.setAttribute("style","background-image: url("+l+");"):a.removeChild(o),(i.flexible||i.width||i.height)&&(a.classList.add("flexible"),i.width&&(a.style.width=i.width),i.height&&(a.style.height=i.height)),n.ui=u(n.ui,{poster:o,progressBar:c,buffered:c.querySelector(".buffered"),volumeBar:f,progress:p,volume:h,currentTime:a.querySelector(".current-time"),totalTime:a.querySelector(".total-time"),btnPlay:a.querySelector(".btn-play"),btnPause:a.querySelector(".btn-pause"),btnPlayPause:a.querySelector(".btn-play-puase"),btnStop:a.querySelector(".btn-stop"),btnFullscreen:a.querySelector(".btn-fullscreen"),btnMute:a.querySelector(".btn-mute")})}}]),t}(f.default);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),u=n(7),l=(r(u),n(9)),s=(r(l),window.MPlayerSkinList={}),c=function(){function e(t){return i(this,e),this.player=t,this.player.ui={},this}return a(e,[{key:"loadInterface",value:function(e){var t=this,n=this.player,r=n.isVideo?"video":"audio",i=document.createElement("script");i.src=o.SCRIPT_PATH+"/skin/"+n.opt.skin+"/tpl."+r+".js",n.el.parentNode.insertBefore(i,n.el),"function"==typeof e&&i.addEventListener("load",function(){e.call(t,s[n.opt.skin+"-"+r])})}},{key:"createInterface",value:function(e){var t=this.player,n=t.el,r=t.ui,i=document.createElement("div");n.parentNode.removeChild(n.previousElementSibling),n.parentNode.insertBefore(i,n),i.outerHTML=e,r.container=n.previousElementSibling,r.container.querySelector(".media-el").appendChild(n),n.classList.add("el"),n.controls=!1,n.setAttribute("playsinline",""),o.UA.indexOf("MSIE 9")>-1&&r.container.classList.add("is-ie9")}},{key:"removeInterface",value:function(){var e=this.player,t=e.ui;e.el=e.prevEl,t.container.parentNode.replaceChild(e.el,t.container),t=null}},{key:"applyPlayerOption",value:function(){var e=this.player,t=e.el,n=e.opt;for(var r in n.event)e.on(r,n.event[r]);t.muted=n.muted,e.ui.volume.position=t.muted?0:n.volume/1*100,t.playbackRate=n.playbackRate,t.loop=n.loop,t.preload=n.preload,0===n.currentTime||isNaN(t.duration)||(e.currentTime=n.currentTime),n.autoplay&&e.play()}},{key:"eventInit",value:function(){this.player.events.on()}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=n(8),f=r(c),p=function(){function e(t){o(this,e),this.player=t}return l(e,[{key:"progressOnDrag",value:function(e){this.player.el.currentTime=this.player.el.duration/100*e}},{key:"volumeOnDrag",value:function(e){this.player.el.volume=e/100}},{key:"btnPlay",value:function(){this.player.play()}},{key:"btnPause",value:function(){this.player.pause()}},{key:"btnPlayPause",value:function(){this.player.el.paused?this.player.play():this.player.pause()}},{key:"btnStop",value:function(){this.player.stop()}},{key:"poster",value:function(){this.player.play()}},{key:"btnToggleMute",value:function(){this.player.toggleMute()}},{key:"volumeBar",value:function(){this.player.el.muted=!1}}]),e}(),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.uiEvents=new p(e),n}return a(t,e),l(t,[{key:"play",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"play",this).call(this),this.player.ui.poster.classList.add("hide")}},{key:"timeupdate",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"timeupdate",this).call(this,e),this.player.ui.poster.classList.add("hide")}},{key:"FSButtonHandler",value:function(){var e=this.player.ui.container,t=this.player.ui.btnFullscreen;if(s.SUPPORT_FS){var n=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;if(Boolean(n)===!1){var r=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen;r&&r.call(e)}else{var i=document.exitFullscreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen;i&&i.call(document)}}else s.IOS?(this.player.el.pause(),this.player.el.removeAttribute("playsinline"),this.player.el.play()):e.classList.contains("is-fullscreen")?(e.classList.remove("is-fullscreen"),t.classList.remove("is-fullscreen"),t.innerHTML=t.getAttribute("data-first-text")):(e.classList.add("is-fullscreen"),t.classList.add("is-fullscreen"),t.innerHTML=t.getAttribute("data-second-text"))}},{key:"FSChangeHandler",value:function(){var e=this.player.ui.container,t=this.player.ui.btnFullscreen,n=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;Boolean(n)===!1&&(e.classList.remove("is-fullscreen"),t.classList.remove("is-fullscreen"),t.innerHTML=t.getAttribute("data-first-text")),Boolean(n)===!0&&n==e&&(e.classList.add("is-fullscreen"),t.classList.add("is-fullscreen"),t.innerHTML=t.getAttribute("data-second-text"))}},{key:"on",value:function(){var e=this,n=this.player,r=n.el,i=n.ui;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this),i.progress&&(i.progress.onDrag=this.uiEvents.progressOnDrag.bind(this)),i.volume&&(i.volume.onDrag=this.uiEvents.volumeOnDrag.bind(this)),i.btnPlay&&i.btnPlay.addEventListener("click",this.uiEvents.btnPlay.bind(this),!1),i.btnPause&&i.btnPause.addEventListener("click",this.uiEvents.btnPause.bind(this),!1),i.btnPlayPause&&i.btnPlayPause.addEventListener("click",this.uiEvents.btnPlayPause.bind(this),!1),i.btnStop&&i.btnStop.addEventListener("click",this.uiEvents.btnStop.bind(this),!1),i.poster&&i.poster.addEventListener("click",this.uiEvents.poster.bind(this),!1),i.btnMute&&i.btnMute.addEventListener("click",this.uiEvents.btnToggleMute.bind(this),!1),i.volumeBar&&i.volumeBar.addEventListener("mousedown",this.uiEvents.volumeBar.bind(this),!1),i.btnFullscreen&&i.btnFullscreen.addEventListener("click",this.FSButtonHandler.bind(this),!1),s.SUPPORT_FS?s.FSCHANGE_EVENT_LIST.forEach(function(t){return document.addEventListener(t,e.FSChangeHandler.bind(e),!1)}):s.IOS&&r.addEventListener("webkitbeginfullscreen",function(){r.setAttribute("playsinline","")},!1)}},{key:"off",value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this),s.SUPPORT_FS&&s.FSCHANGE_EVENT_LIST.forEach(function(t){return document.removeEventListener(t,e.FSChangeHandler.bind(e),!1)})}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),o=n(3),u=function(){function e(t){r(this,e),this.player=t}return i(e,[{key:"on",value:function(){var e=this;a.DEFAULT_EVENT_LIST.forEach(function(t){return e.player.el.addEventListener(t,e[t].bind(e),!1)}),window.addEventListener("resize",this.updateSizeOption.bind(this),!1),window.addEventListener("scroll",this.updateSizeOption.bind(this),!1)}},{key:"off",value:function(){var e=this;a.DEFAULT_EVENT_LIST.forEach(function(t){return e.player.el.removeEventListener(t,e[t].bind(e),!1)}),window.removeEventListener("resize",this.updateSizeOption.bind(this),!1),window.removeEventListener("scroll",this.updateSizeOption.bind(this),!1)}},{key:"callback",value:function(e,t){var n=this,r=void 0,i=void 0;"Event"===e.constructor.name?(r=e.type,i=e):(r=e,i=t),this.player.userEvents.forEach(function(e){e.eventName===r&&e.handler.call(n.player,i)})}},{key:"updateBuffered",value:function(){var e=this.player.el,t=this.player.ui.buffered,n=0,r=e.buffered,i=e.currentTime,a=(e.duration,0),o=0,u=0;try{for(;!(r.start(n)<=i&&i<=r.end(n));)n+=1;a=r.start(n)/e.duration*100,o=r.end(n)/e.duration*100,u=o-a,t.style.width=u+"%",t.style.left=a+"%"}catch(e){}}},{key:"updatePlayState",value:function(){var e=this.player,t=e.el,n=e.ui.btnPlayPause,r=e.ui.currentTime,i=e.ui.totalTime,a=e.ui.btnMute;n&&(t.paused?(n.classList.remove("is-paused"),n.innerHTML=n.getAttribute("data-first-text")):(n.classList.add("is-paused"),n.innerHTML=n.getAttribute("data-second-text"))),t.paused?e.ui.container.classList.remove("is-playing"):e.ui.container.classList.add("is-playing"),r&&(e.ui.currentTime.innerHTML=(0,o.sec2str)(t.currentTime)),i&&(e.ui.totalTime.innerHTML=(0,o.sec2str)(t.duration)),a&&(t.muted?(a.classList.add("is-muted"),a.innerHTML=a.getAttribute("data-second-text")):(a.classList.remove("is-muted"),a.innerHTML=a.getAttribute("data-first-text")))}},{key:"updateSizeOption",value:function(){var e=this.player.ui.container,t=o.getMatchAttr.call(e,"data-maxwidth-"),n=o.getMatchAttr.call(e,"data-minwidth-"),r=0;null!==t&&(r=parseInt(t.name),e.offsetWidth<=r?e.classList.add(t.value):e.classList.remove(t.value)),null!==n&&(r=parseInt(n.name),e.offsetWidth>=r?e.classList.add(n.value):e.classList.remove(n.value))}},{key:"click",value:function(){this.player.el.paused?this.player.play():this.player.pause()}},{key:"contextmenu",value:function(e){e.preventDefault(),this.callback(e)}},{key:"abort",value:function(e){this.callback(e)}},{key:"canplay",value:function(e){this.callback(e)}},{key:"canplaythrough",value:function(e){this.updateBuffered(),this.callback(e)}},{key:"durationchange",value:function(e){this.callback(e)}},{key:"emptied",value:function(e){this.callback(e)}},{key:"ended",value:function(e){this.callback(e)}},{key:"error",value:function(e){this.callback(e)}},{key:"loadeddata",value:function(e){this.updateBuffered(),this.callback(e)}},{key:"loadedmetadata",value:function(e){this.player.wrapper.applyPlayerOption(),this.updatePlayState(),this.updateSizeOption(),this.callback(e)}},{key:"loadstart",value:function(e){this.callback(e)}},{key:"pause",value:function(e){this.updatePlayState(),this.callback(e)}},{key:"play",value:function(){this.updatePlayState(),this.callback("play")}},{key:"playing",value:function(e){this.updateBuffered(),this.callback(e)}},{key:"progress",value:function(e){this.updateBuffered(),this.callback(e)}},{key:"ratechange",value:function(e){this.callback(e)}},{key:"seeked",value:function(e){this.player.ui.container.classList.remove("is-seeking"),this.callback(e)}},{key:"seeking",value:function(e){this.player.ui.container.classList.add("is-seeking"),this.callback(e)}},{key:"stalled",value:function(e){this.callback(e)}},{key:"suspend",value:function(e){this.callback(e)}},{key:"timeupdate",value:function(e){this.player.ui.progress.isDown===!1&&(this.player.ui.progress.position=this.player.el.currentTime/this.player.el.duration*100),this.updatePlayState(),this.callback(e)}},{key:"volumechange",value:function(e){this.player.ui.volume.position=this.player.el.muted?0:this.player.el.volume/1*100,this.updatePlayState(),this.callback(e)}},{key:"waiting",value:function(e){this.callback(e)}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(8),c=r(s),f=function(){function e(t){o(this,e),this.player=t}return l(e,[{key:"progressOnDrag",value:function(e){this.player.el.currentTime=this.player.el.duration/100*e}},{key:"volumeOnDrag",value:function(e){this.player.el.volume=e/100}},{key:"btnPlay",value:function(){this.player.play()}},{key:"btnPause",value:function(){this.player.pause()}},{key:"btnPlayPause",value:function(){this.player.el.paused?this.player.play():this.player.pause()}},{key:"btnStop",value:function(){this.player.stop()}},{key:"btnToggleMute",value:function(){this.player.toggleMute()}},{key:"volumeBar",value:function(){this.player.el.muted=!1}}]),e}(),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.uiEvents=new f(e),n}return a(t,e),l(t,[{key:"on",value:function(){var e=this.player,n=(e.el,e.ui);u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this),n.progress&&(n.progress.onDrag=this.uiEvents.progressOnDrag.bind(this)),n.volume&&(n.volume.onDrag=this.uiEvents.volumeOnDrag.bind(this)),n.btnPlay&&n.btnPlay.addEventListener("click",this.uiEvents.btnPlay.bind(this),!1),n.btnPause&&n.btnPause.addEventListener("click",this.uiEvents.btnPause.bind(this),!1),n.btnPlayPause&&n.btnPlayPause.addEventListener("click",this.uiEvents.btnPlayPause.bind(this),!1),n.btnStop&&n.btnStop.addEventListener("click",this.uiEvents.btnStop.bind(this),!1),n.btnMute&&n.btnMute.addEventListener("click",this.uiEvents.btnToggleMute.bind(this),!1),n.volumeBar&&n.volumeBar.addEventListener("mousedown",this.uiEvents.volumeBar.bind(this),!1)}}]),t}(c.default);t.default=p},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.el,i=t.onDrag,a=t.axis,o=void 0===a?"x":a;return n(this,e),this.range=r,this.dragger=this.range.children[0],this.onDrag=i,this.isX="x"===o,this.isDown=!1,this.range.addEventListener("mousedown",this.mousedown.bind(this)),document.addEventListener("mousemove",this.update.bind(this)),document.addEventListener("mouseup",this.mouseup.bind(this)),this.range.addEventListener("touchstart",this.mousedown.bind(this)),document.addEventListener("touchmove",this.update.bind(this)),document.addEventListener("touchend",this.mouseup.bind(this)),this}return r(e,[{key:"mousedown",value:function(e){e.preventDefault(),e.stopPropagation(),this.isDown=!0,this.update(e)}},{key:"update",value:function(e){var t=e.touches?this.isX?e.touches[0].pageX:e.touches[0].pageY:this.isX?e.pageX:e.pageY,n=t>=this.offsetPos&&t<=this.offsetPos+this.rangeSize,r=t-this.offsetPos,i=0;this.isDown&&n&&(i=this.isX?Math.round(r/this.rangeSize*100):Math.round((this.rangeSize-r)/this.rangeSize*100),this.position=i,"function"==typeof this.onDrag&&this.onDrag.call(this,this.position))}},{key:"mouseup",value:function(){this.isDown=!1}},{key:"position",get:function(){var e=this.isX?"width":"height";return Math.round(parseInt(this.dragger.style[e]))},set:function(e){var t=this.isX?"width":"height";this.dragger.style[t]=e+"%"}},{key:"rangeSize",get:function(){return this.isX?this.range.offsetWidth:this.range.offsetHeight}},{key:"offsetPos",get:function(){var e=this.range,t=0;if(e&&e.offsetParent)for(;e;)t+=this.isX?e.offsetLeft:e.offsetTop,e=e.offsetParent;return t}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},c=n(6),f=r(c),p=n(10),d=r(p),h=n(9),y=r(h),v=function(e){function t(e){var n;i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.player.events=new y.default(r.player),n=r,a(r,n)}return o(t,e),l(t,[{key:"createInterface",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createInterface",this).call(this,e);var n=this.player,r=(n.el,n.opt,n.ui.container),i=r.querySelector(".progress"),a=r.querySelector(".volume"),o=new d.default({el:i}),l=new d.default({el:a});n.ui=u(n.ui,{progressBar:i,buffered:i.querySelector(".buffered"),volumeBar:a,progress:o,volume:l,currentTime:r.querySelector(".current-time"),totalTime:r.querySelector(".total-time"),btnPlay:r.querySelector(".btn-play"),btnPause:r.querySelector(".btn-pause"),btnPlayPause:r.querySelector(".btn-play-puase"),btnStop:r.querySelector(".btn-stop"),btnFullscreen:r.querySelector(".btn-fullscreen"),btnMute:r.querySelector(".btn-mute")})}}]),t}(f.default);t.default=v}]);