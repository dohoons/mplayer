/**
 * MPlayer : HTML5 Media Player
 * @author dohoons(dohoons@gmail.com)
 * @version v0.2.4-alpha.1
 * @license MIT
 */
!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){"use strict";var i=n(1),r=[{title:"MPlayer 정보",action:function(){window.open("https://github.com/dohoons/mplayer")}},{title:"단축키 안내",action:function(){alert("재생/일시정지 : space\n전체화면 보기/해제 : F\n앞으로/뒤로 : 왼쪽/오른쪽 방향키\n볼륨조정 : 위/아래 방향키")}},{title:"재생속도",action:function(){},group:[{title:"0.5x",action:function(){this.playbackRate=.5}},{title:"1.0x",action:function(){this.playbackRate=1}},{title:"1.5x",action:function(){this.playbackRate=1.5}},{title:"2.0x",action:function(){this.playbackRate=2}}]}],o=navigator.userAgent,a=/iPad|iPhone|iPod/.test(o),s=/iPad/.test(o),l=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled,u=(0,i.getCurrentScriptPath)();e.exports={DEFAULT_OPTIONS:{skin:"basic",flexible:!1,width:"",height:"",currentTime:0,autoplay:!1,loop:!1,muted:!1,volume:1,playbackRate:1,preload:"metadata",contextmenu:!0,event:{}},DEFAULT_CONTEXT_MENU:r,PUBLIC_NAMESPACE:"MPlayer",UA:o,IOS:a,IPAD:s,SUPPORT_FS:l,FSCHANGE_EVENT_LIST:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],ELEMENT_EVENT_LIST:["abort","canplay","canplaythrough","durationchange","emptied","error","ended","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],SCRIPT_PATH:u}},function(e,t,n){"use strict";e.exports.sec2str=function(e){var t=parseInt(e),n=Math.floor(t/86400),i=("0"+Math.floor(t/3600)%24).slice(-2),r=("0"+Math.floor(t/60)%60).slice(-2),o=("0"+t%60).slice(-2);return(n>0?n+"d ":"")+(i>0?i+":":"")+r+":"+(t>60?o:o+"")},e.exports.getMatchAttr=function(e,t){for(var n=e.attributes,i=n.length;i--;)if(0===n[i].nodeName.indexOf(t))return{nodeName:n[i].nodeName,name:n[i].nodeName.split(t)[1],value:n[i].value};return null},e.exports.closest=function(e,t){for(var n=e.webkitMatchesSelector?"webkitMatchesSelector":e.msMatchesSelector?"msMatchesSelector":"matches";e.parentElement;){if(e[n](t))return e;e=e.parentElement}return null},e.exports.getCurrentScriptPath=function(){var e=void 0;if(document.currentScript)e=document.currentScript.src;else{var t=document.getElementsByTagName("script");e=t[t.length-1].src}return e.substring(0,e.lastIndexOf("/"))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=(i(n(3)),i(n(5)),i(n(12))),s=window.MPlayerSkinList={},l=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.player.ui={},this}return r(e,[{key:"loadInterface",value:function(e){var t=this,n=this.player,i=n.isVideo?"video":"audio",r=document.createElement("script"),a=o.SCRIPT_PATH+"/skin/"+n.opt.skin;if(r.src=a+"/tpl."+i+".js",n.el.parentNode.insertBefore(r,n.el),0===document.querySelectorAll('link[href*="'+a+'"]').length){var l=document.createElement("link");l.setAttribute("rel","stylesheet"),l.setAttribute("href",a+"/skin.min.css"),document.body.appendChild(l)}"function"==typeof e&&r.addEventListener("load",function(){e.call(t,s[n.opt.skin+"-"+i])})}},{key:"createInterface",value:function(e){var t=this.player,n=t.el,i=t.ui,r=document.createElement("div");n.parentNode.removeChild(n.previousElementSibling),n.parentNode.insertBefore(r,n),r.outerHTML=e,i.container=n.previousElementSibling,i.container.querySelector(".mp-media-el").appendChild(n),n.classList.add("el"),n.controls=!1,n.setAttribute("playsinline",""),n.setAttribute("tabindex","0"),o.UA.indexOf("MSIE 9")>-1&&i.container.classList.add("mp-is-ie9"),o.IOS&&i.container.classList.add("mp-is-ios"),t.opt.contextmenu&&(i.contextmenu=new a.default(o.DEFAULT_CONTEXT_MENU,t))}},{key:"removeInterface",value:function(){var e=this.player,t=e.ui;e.el=e.prevEl,t.container.parentNode.replaceChild(e.el,t.container),t=null}},{key:"applyPlayerOption",value:function(){var e=this.player,t=e.el,n=e.opt;for(var i in n.event)e.on(i,n.event[i]);t.muted=n.muted,e.ui.volume.position=t.muted?0:n.volume/1*100,t.playbackRate=n.playbackRate,t.loop=n.loop,t.preload=n.preload,0===n.currentTime||isNaN(t.duration)||(e.currentTime=n.currentTime),n.autoplay&&e.play()}},{key:"eventInit",value:function(){this.player.events.on()}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(n(4)),l=function(){function e(t){i(this,e),this.player=t}return o(e,[{key:"progressOnDrag",value:function(e){this.player.el.duration&&(this.player.el.currentTime=this.player.el.duration/100*e)}},{key:"volumeOnDrag",value:function(e){this.player.el.volume=e/100}},{key:"btnPlay",value:function(){this.player.play()}},{key:"btnPause",value:function(){this.player.pause()}},{key:"btnPlayPause",value:function(){this.player.togglePlay()}},{key:"btnStop",value:function(){this.player.stop()}},{key:"videoClick",value:function(){this.player.togglePlay(),this.player.el.focus()}},{key:"posterClick",value:function(){this.player.play(),this.player.el.focus()}},{key:"btnToggleMute",value:function(){this.player.toggleMute()}},{key:"volumeBar",value:function(){this.player.el.muted=!1}}]),e}(),u=function(e){function t(e){i(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.uiEvents=new l(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"play",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"play",this).call(this),this.player.ui.poster.classList.add("mp-hide")}},{key:"timeupdate",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"timeupdate",this).call(this,e),this.player.ui.poster.classList.add("mp-hide")}},{key:"FSButtonHandler",value:function(){var e=this.player.ui.container,t=this.player.ui.btnFullscreen;if(a.SUPPORT_FS){var n=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;if(!1===Boolean(n)){var i=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen;i&&i.call(e)}else{var r=document.exitFullscreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen;r&&r.call(document)}}else a.IOS&&!a.IPAD?(this.player.el.pause(),this.player.el.removeAttribute("playsinline"),this.player.el.play()):e.classList.contains("mp-is-fullscreen")?(e.classList.remove("mp-is-fullscreen"),t.classList.remove("mp-is-fullscreen"),t.innerHTML=t.getAttribute("data-first-text")):(e.classList.add("mp-is-fullscreen"),t.classList.add("mp-is-fullscreen"),t.innerHTML=t.getAttribute("data-second-text"))}},{key:"FSChangeHandler",value:function(){var e=this.player.ui.container,t=this.player.ui.btnFullscreen,n=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;!1===Boolean(n)&&(e.classList.remove("mp-is-fullscreen"),t.classList.remove("mp-is-fullscreen"),t.innerHTML=t.getAttribute("data-first-text")),!0===Boolean(n)&&n==e&&(e.classList.add("mp-is-fullscreen"),t.classList.add("mp-is-fullscreen"),t.innerHTML=t.getAttribute("data-second-text"))}},{key:"on",value:function(){var e=this,n=this.player,i=n.el,o=n.ui;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this),o.progress&&(o.progress.onDrag=this.uiEvents.progressOnDrag.bind(this)),o.volume&&(o.volume.onDrag=this.uiEvents.volumeOnDrag.bind(this)),o.btnPlay&&o.btnPlay.addEventListener("click",this.uiEvents.btnPlay.bind(this),!1),o.btnPause&&o.btnPause.addEventListener("click",this.uiEvents.btnPause.bind(this),!1),o.btnPlayPause&&o.btnPlayPause.addEventListener("click",this.uiEvents.btnPlayPause.bind(this),!1),o.btnStop&&o.btnStop.addEventListener("click",this.uiEvents.btnStop.bind(this),!1),o.poster&&o.poster.addEventListener("click",this.uiEvents.posterClick.bind(this),!1),o.videoWrap&&o.videoWrap.addEventListener("click",this.uiEvents.videoClick.bind(this),!1),o.btnMute&&o.btnMute.addEventListener("click",this.uiEvents.btnToggleMute.bind(this),!1),o.volumeBar&&o.volumeBar.addEventListener("mousedown",this.uiEvents.volumeBar.bind(this),!1),o.btnFullscreen&&o.btnFullscreen.addEventListener("click",this.FSButtonHandler.bind(this),!1),a.SUPPORT_FS?a.FSCHANGE_EVENT_LIST.forEach(function(t){return document.addEventListener(t,e.FSChangeHandler.bind(e),!1)}):a.IOS&&i.addEventListener("webkitbeginfullscreen",function(){i.setAttribute("playsinline","")},!1)}},{key:"off",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this),a.SUPPORT_FS&&a.FSCHANGE_EVENT_LIST.forEach(function(t){return document.removeEventListener(t,e.FSChangeHandler.bind(e),!1)})}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=n(1),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t}return i(e,[{key:"on",value:function(){var e=this,t=this.player.ui.container;r.ELEMENT_EVENT_LIST.forEach(function(t){return e.player.el.addEventListener(t,e[t].bind(e),!1)}),[].forEach.call(t.querySelectorAll("a, button, input, [tabindex]"),function(t){t.addEventListener("focus",function(){return e.player.ui.container.classList.add("mp-is-focus")}),t.addEventListener("focus",e.activeFocus.bind(e)),t.addEventListener("blur",function(){return e.player.ui.container.classList.remove("mp-is-focus")})}),t.addEventListener("mousemove",this.active.bind(this),!1),t.addEventListener("touchmove",this.active.bind(this),!1),t.addEventListener("touchstart",this.active.bind(this),!1),t.addEventListener("mouseout",function(){return t.classList.remove("mp-is-active")},!1),t.addEventListener("contextmenu",this.contextmenu.bind(this),!1),clearInterval(t.sizeTimer),t.sizeTimer=setInterval(this.updateSizeOption.bind(this),50),window.addEventListener("keydown",this.keydown.bind(this),!1)}},{key:"off",value:function(){var e=this;r.ELEMENT_EVENT_LIST.forEach(function(t){return e.player.el.removeEventListener(t,e[t].bind(e),!1)}),clearInterval(this.player.ui.container.sizeTimer),window.removeEventListener("keydown",this.keydown.bind(this),!1)}},{key:"callback",value:function(e,t){var n=this,i=void 0,r=void 0;"string"==typeof e?(i=e,r=t):(i=e.type,r=e),this.player.userEvents.forEach(function(e){e.eventName===i&&e.handler.call(n.player,r)})}},{key:"updateBuffered",value:function(){var e=this.player.el,t=this.player.ui.buffered,n=0,i=e.buffered,r=e.currentTime,o=(e.duration,0),a=0;try{for(;!(i.start(n)<=r&&r<=i.end(n));)n+=1;o=i.start(n)/e.duration*100,a=i.end(n)/e.duration*100-o,t.style.width=a+"%",t.style.left=o+"%"}catch(e){}}},{key:"updatePlayState",value:function(){var e=this.player,t=e.el,n=e.ui.btnPlayPause,i=e.ui.currentTime,r=e.ui.totalTime,a=e.ui.btnMute;n&&(t.paused?(n.classList.remove("mp-is-paused"),n.innerHTML=n.getAttribute("data-first-text")):(n.classList.add("mp-is-paused"),n.innerHTML=n.getAttribute("data-second-text"))),t.paused?e.ui.container.classList.remove("mp-is-playing"):e.ui.container.classList.add("mp-is-playing"),i&&(e.ui.currentTime.innerHTML=(0,o.sec2str)(t.currentTime)),r&&(e.ui.totalTime.innerHTML=(0,o.sec2str)(t.duration)),a&&(t.muted?(a.classList.add("mp-is-muted"),a.innerHTML=a.getAttribute("data-second-text")):(a.classList.remove("mp-is-muted"),a.innerHTML=a.getAttribute("data-first-text")))}},{key:"updateSizeOption",value:function(){var e=this.player.ui.container,t=(0,o.getMatchAttr)(e,"data-maxwidth-"),n=(0,o.getMatchAttr)(e,"data-minwidth-"),i=0;null!==t&&(i=parseInt(t.name),e.offsetWidth<=i?e.classList.add(t.value):e.classList.remove(t.value)),null!==n&&(i=parseInt(n.name),e.offsetWidth>=i?e.classList.add(n.value):e.classList.remove(n.value))}},{key:"active",value:function(){var e=this.player.ui.container;e.classList.remove("mp-is-active-focus"),e.classList.add("mp-is-active"),clearTimeout(e.activeTimer),e.activeTimer=setTimeout(function(){return e.classList.remove("mp-is-active")},2e3)}},{key:"activeFocus",value:function(){var e=this.player.ui.container;e.classList.remove("mp-is-active"),e.classList.add("mp-is-active-focus"),clearTimeout(e.activeTimer),e.activeTimer=setTimeout(function(){return e.classList.remove("mp-is-active-focus")},2e3)}},{key:"contextmenu",value:function(e){e.preventDefault(),this.player.opt.contextmenu&&this.player.ui.contextmenu.show(e),this.callback(e)}},{key:"keydown",value:function(e){var t=this.player;if(t.ui.container.classList.contains("mp-is-focus"))switch(e.keyCode){case 32:e.preventDefault(),t.togglePlay();break;case 70:t.ui.btnFullscreen&&this.FSButtonHandler.call(this);break;case 37:e.preventDefault(),t.currentTime-=5;break;case 39:e.preventDefault(),t.currentTime+=5;break;case 38:e.preventDefault(),t.volume+=.05;break;case 40:e.preventDefault(),t.volume-=.05}}},{key:"abort",value:function(e){this.callback(e)}},{key:"canplay",value:function(e){this.callback(e)}},{key:"canplaythrough",value:function(e){this.updateBuffered(),this.callback(e)}},{key:"durationchange",value:function(e){this.callback(e)}},{key:"emptied",value:function(e){this.callback(e)}},{key:"ended",value:function(e){this.callback(e)}},{key:"error",value:function(e){this.callback(e)}},{key:"loadeddata",value:function(e){this.updateBuffered(),this.callback(e)}},{key:"loadedmetadata",value:function(e){this.player.wrapper.applyPlayerOption(),this.updatePlayState(),this.updateSizeOption(),this.callback(e)}},{key:"loadstart",value:function(e){this.callback(e)}},{key:"pause",value:function(e){this.updatePlayState(),this.callback(e)}},{key:"play",value:function(){this.updatePlayState(),this.callback("play")}},{key:"playing",value:function(e){this.updateBuffered(),this.callback(e)}},{key:"progress",value:function(e){this.updateBuffered(),this.callback(e)}},{key:"ratechange",value:function(e){this.callback(e)}},{key:"seeked",value:function(e){var t=this;clearTimeout(this.player.ui.container.seekTimer),this.player.ui.container.seekTimer=setTimeout(function(){return t.player.ui.container.classList.remove("mp-is-seeking")},800),this.callback(e)}},{key:"seeking",value:function(e){this.player.ui.container.classList.add("mp-is-seeking"),this.callback(e)}},{key:"stalled",value:function(e){this.callback(e)}},{key:"suspend",value:function(e){this.callback(e)}},{key:"timeupdate",value:function(e){!1===this.player.ui.progress.isDown&&(this.player.ui.progress.position=this.player.el.currentTime/this.player.el.duration*100),this.updatePlayState(),this.callback(e)}},{key:"volumechange",value:function(e){this.player.ui.volume.position=this.player.el.muted?0:this.player.el.volume/1*100,this.updatePlayState(),this.callback(e)}},{key:"waiting",value:function(e){this.callback(e)}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(4)),a=function(){function e(t){i(this,e),this.player=t}return r(e,[{key:"progressOnDrag",value:function(e){this.player.el.duration&&(this.player.el.currentTime=this.player.el.duration/100*e)}},{key:"volumeOnDrag",value:function(e){this.player.el.volume=e/100}},{key:"btnPlay",value:function(){this.player.play()}},{key:"btnPause",value:function(){this.player.pause()}},{key:"btnPlayPause",value:function(){this.player.togglePlay()}},{key:"btnStop",value:function(){this.player.stop()}},{key:"btnToggleMute",value:function(){this.player.toggleMute()}},{key:"volumeBar",value:function(){this.player.el.muted=!1}}]),e}(),s=function(e){function t(e){i(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.uiEvents=new a(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"on",value:function(){var e=this.player,n=(e.el,e.ui);(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this),n.progress&&(n.progress.onDrag=this.uiEvents.progressOnDrag.bind(this)),n.volume&&(n.volume.onDrag=this.uiEvents.volumeOnDrag.bind(this)),n.btnPlay&&n.btnPlay.addEventListener("click",this.uiEvents.btnPlay.bind(this),!1),n.btnPause&&n.btnPause.addEventListener("click",this.uiEvents.btnPause.bind(this),!1),n.btnPlayPause&&n.btnPlayPause.addEventListener("click",this.uiEvents.btnPlayPause.bind(this),!1),n.btnStop&&n.btnStop.addEventListener("click",this.uiEvents.btnStop.bind(this),!1),n.btnMute&&n.btnMute.addEventListener("click",this.uiEvents.btnToggleMute.bind(this),!1),n.volumeBar&&n.volumeBar.addEventListener("mousedown",this.uiEvents.volumeBar.bind(this),!1)}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.el,i=t.onDrag,r=t.axis,o=void 0===r?"x":r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.range=n,this.dragger=this.range.children[0],this.onDrag=i,this.isX="x"===o,this.isDown=!1,this.range.addEventListener("mousedown",this.mousedown.bind(this)),document.addEventListener("mousemove",this.update.bind(this)),document.addEventListener("mouseup",this.mouseup.bind(this)),this.range.addEventListener("touchstart",this.mousedown.bind(this)),document.addEventListener("touchmove",this.update.bind(this)),document.addEventListener("touchend",this.mouseup.bind(this)),this}return i(e,[{key:"mousedown",value:function(e){e.preventDefault(),e.stopPropagation(),this.isDown=!0,this.update(e)}},{key:"update",value:function(e){var t=e.touches?this.isX?e.touches[0].pageX:e.touches[0].pageY:this.isX?e.pageX:e.pageY,n=t>=this.offsetPos&&t<=this.offsetPos+this.rangeSize,i=t-this.offsetPos,r=0;this.isDown&&n&&(r=this.isX?Math.round(i/this.rangeSize*100):Math.round((this.rangeSize-i)/this.rangeSize*100),this.position=r,"function"==typeof this.onDrag&&this.onDrag.call(this,this.position))}},{key:"mouseup",value:function(){this.isDown=!1}},{key:"position",get:function(){var e=this.isX?"width":"height";return Math.round(parseInt(this.dragger.style[e]))},set:function(e){var t=this.isX?"width":"height";this.dragger.style[t]=e+"%"}},{key:"rangeSize",get:function(){return this.isX?this.range.offsetWidth:this.range.offsetHeight}},{key:"offsetPos",get:function(){var e=this.range,t=0;if(e&&e.offsetParent)for(;e;)this.isX?t+=e.offsetLeft:t+=e.offsetTop,e=e.offsetParent;return t}}]),e}();t.default=r},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(9);var s=n(0),l=i(n(10)),u=i(n(11)),c=i(n(13)),p=function(e){function t(e,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),l=o({},s.DEFAULT_OPTIONS);return a.opt=o(l,n),a.el="string"==typeof e?document.querySelector(e):e,a.prevEl=a.el.cloneNode(!0),a.isVideo="VIDEO"===a.el.tagName,a.wrapper=a.isVideo?new u.default(a):new c.default(a),a.initFlag=!1,a.userEvents=[],a.init(),i=a,r(a,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),a(t,[{key:"init",value:function(e){var t=this;return this.destroy(),this.opt=o(this.opt,e),this.wrapper.loadInterface(function(e){t.wrapper.createInterface(e),t.wrapper.eventInit(),t.el.load()}),this.initFlag=!0,this}},{key:"destroy",value:function(){return this.initFlag&&(this.wrapper.removeInterface(),this.events.off(),this.initFlag=!1),this}},{key:"on",value:function(e,t){return this.userEvents.push({eventName:e,handler:t}),this}},{key:"off",value:function(e){var t=[];return this.userEvents.forEach(function(n){n.eventName!==e&&t.push(n)}),this.userEvents=t,this}}]),t}();e[s.PUBLIC_NAMESPACE]=p,t.default=p}).call(t,n(8))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}():function(e){if("Element"in e){var t=e.Element.prototype,n=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(e,t)},s=function(e){for(var t=i.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],u=function(){return new s(this)};if(o.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return e+="",-1!==a(this,e)},l.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do{e=t[n]+"",-1===a(this,e)&&(this.push(e),r=!0)}while(++n<i);r&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,i=0,r=n.length,o=!1;do{for(e=n[i]+"",t=a(this,e);-1!==t;)this.splice(t,1),o=!0,t=a(this,e)}while(++i<r);o&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},n.defineProperty){var c={get:u,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",c)}catch(e){-2146823252===e.number&&(c.enumerable=!1,n.defineProperty(t,"classList",c))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",u)}}(self))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"play",value:function(){return this.el.play(),this}},{key:"pause",value:function(){return this.el.pause(),this}},{key:"togglePlay",value:function(){return this.el.paused?this.el.play():this.el.pause(),this}},{key:"stop",value:function(){return this.pause(),this.el.currentTime=0,this}},{key:"toggleMute",value:function(){return this.el.muted=!this.el.muted,this.ui.volume.position=this.el.muted?0:this.el.volume/1*100,this}},{key:"src",get:function(){return this.el.currentSrc},set:function(e){this.el.src=e}},{key:"volume",get:function(){return this.el.volume},set:function(e){e>1&&(e=1),e<0&&(e=0),this.el.volume=e}},{key:"currentTime",get:function(){return this.el.currentTime},set:function(e){this.el.currentTime=e}},{key:"playbackRate",get:function(){return this.el.playbackRate},set:function(e){this.el.playbackRate=e}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=i(n(2)),l=i(n(6)),u=i(n(3)),c=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.player.events=new u.default(i.player),n=i,r(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"createInterface",value:function(e){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createInterface",this).call(this,e);var n=this.player,i=n.el,r=n.opt,a=n.ui.container,s=a.querySelector(".mp-poster"),u=i.getAttribute("poster"),c=a.querySelector(".mp-progress"),p=a.querySelector(".mp-volume"),f=new l.default({el:c}),d=new l.default({el:p});if(u&&""!==u?s.setAttribute("style","background-image: url("+u+");"):a.removeChild(s),!r.width&&i.hasAttribute("width")){var h=i.getAttribute("width");r.width=h.indexOf("%")>-1?h:h+"px"}if(!r.height&&i.hasAttribute("height")){var y=i.getAttribute("height");r.height=y.indexOf("%")>-1?y:y+"px"}r.width&&(a.style.width=r.width),r.height&&(a.style.height=r.height),r.flexible&&a.classList.add("mp-is-flexible"),n.ui=o(n.ui,{poster:s,videoWrap:a.querySelector(".mp-media-el"),progressBar:c,buffered:c.querySelector(".mp-buffered"),volumeBar:p,progress:f,volume:d,currentTime:a.querySelector(".mp-current-time"),totalTime:a.querySelector(".mp-total-time"),btnPlay:a.querySelector(".mp-btn-play"),btnPause:a.querySelector(".mp-btn-pause"),btnPlayPause:a.querySelector(".mp-btn-play-puase"),btnStop:a.querySelector(".mp-btn-stop"),btnFullscreen:a.querySelector(".mp-btn-fullscreen"),btnMute:a.querySelector(".mp-btn-mute")})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),o=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=t,this.player=n,this.el=null,this.events=[],this.init(t),this}return i(e,[{key:"init",value:function(e){this.items=e,this.events=[],this.el=document.createElement("div"),this.el.setAttribute("class","mplayer-context-menu"),this.el.setAttribute("tabindex","0"),this.el.innerHTML="\n\t\t\t\n<style>\n.mplayer-context-menu { line-height: 1.2; font-family: 'Malgun Gothic', 'dotum', sans-serif; font-size: 12px; color: #fff; background: rgba(0,0,0,.85); outline: none; position: absolute; z-index: 99999999; }\n.mplayer-context-main { margin: 0; padding: 0; list-style: none; }\n.mplayer-context-sub { display: none; margin: 0; padding: 0; background: rgba(0,0,0,.85); list-style: none; border: 1px solid #000; position: absolute; top: 0; left: 100%; }\n.mplayer-context-dir-left .mplayer-context-sub { left: auto; right: 100%; }\n.mplayer-context-dir-top .mplayer-context-sub { top: auto; bottom: 0; }\n.mplayer-context-item { position: relative; }\n.mplayer-context-item:not(:first-child) > .mplayer-context-link { border-top: 1px solid rgba(255,255,255,.2); }\n.mplayer-context-item:hover > .mplayer-context-sub { display: block; }\n.mplayer-context-link { -webkit-box-sizing: border-box; box-sizing: border-box; display: block; min-width: 100px; max-width: 250px; padding: 8px 15px; color: #fff; text-decoration: none; white-space: nowrap; text-overflow: ellipsis; overflow: hidden; }\n.mplayer-context-link:hover,\n.mplayer-context-link:focus { background-color: rgba(255,255,255,.2); }\n.mplayer-context-sub .mplayer-context-link { min-width: auto; }\n</style>\n\n\t\t\t<ul class=\"mplayer-context-main\">"+this.createTree(this.items)+"</ul>\n\t\t",this.applyEvent()}},{key:"createTree",value:function(e){for(var t="",n=0,i=e.length;n<i;++n)this.events.push(e[n].action),t+='\n\t\t\t\t<li class="mplayer-context-item">\n\t\t\t\t\t<a href="#" class="mplayer-context-link" onclick="event.preventDefault();">'+e[n].title+"</a>\n\t\t\t\t\t"+(e[n].group?'<ul class="mplayer-context-sub">'+this.createTree(e[n].group)+"</ul>":"")+"\t\t\n\t\t\t\t</li>\n\t\t\t";return t}},{key:"applyEvent",value:function(){for(var e=this.el.querySelectorAll(".mplayer-context-link"),t=0,n=e.length;t<n;++t)e[t].addEventListener("click",this.events[t].bind(this.player),!1)}},{key:"show",value:function(e){this.hide(),window.addEventListener("click",this.hide,!1),window.addEventListener("contextmenu",this.hide,!1),window.addEventListener("resize",this.hide,!1),document.body.appendChild(this.el),this.position(e),this.el.focus()}},{key:"hide",value:function(e){if(e&&"contextmenu"===e.type&&(0,r.closest)(e.target,".mplayer"))return!1;for(var t=document.querySelectorAll(".mplayer-context-menu"),n=0,i=t.length;n<i;++n)document.body.removeChild(t[n]);window.removeEventListener("click",this.hide,!1),window.removeEventListener("contextmenu",this.hide,!1),window.removeEventListener("resize",this.hide,!1)}},{key:"position",value:function(e){var t=this.el,n=document.documentElement.clientWidth||document.body.clientWidth,i=document.documentElement.clientHeight||document.body.clientHeight,r=window.pageYOffset,o=window.pageXOffset,a=i-t.offsetHeight+r,s=n-t.offsetWidth+o,l=e.clientY+r,u=e.clientX+o;u>=s&&(this.el.classList.add("mplayer-context-dir-left"),u=s),l>=a&&(this.el.classList.add("mplayer-context-dir-top"),l=a),t.style.top=l+"px",t.style.left=u+"px"}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=i(n(2)),l=i(n(6)),u=i(n(5)),c=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.player.events=new u.default(i.player),n=i,r(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"createInterface",value:function(e){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createInterface",this).call(this,e);var n=this.player,i=(n.el,n.opt,n.ui.container),r=i.querySelector(".mp-progress"),a=i.querySelector(".mp-volume"),s=new l.default({el:r}),u=new l.default({el:a});n.ui=o(n.ui,{progressBar:r,buffered:r.querySelector(".mp-buffered"),volumeBar:a,progress:s,volume:u,currentTime:i.querySelector(".mp-current-time"),totalTime:i.querySelector(".mp-total-time"),btnPlay:i.querySelector(".mp-btn-play"),btnPause:i.querySelector(".mp-btn-pause"),btnPlayPause:i.querySelector(".mp-btn-play-puase"),btnStop:i.querySelector(".mp-btn-stop"),btnFullscreen:i.querySelector(".mp-btn-fullscreen"),btnMute:i.querySelector(".mp-btn-mute")})}}]),t}();t.default=c}]);